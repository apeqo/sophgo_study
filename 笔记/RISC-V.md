
作为一种ISA(指令集架构)，使用模块化思想，抛弃之前的增量ISA方案

ISA七种衡量标准：
1成本 2简洁性 3性能 4架构和具体实现的分离 5提升空间 6程序大小 7易于编程/编译/链接

### RV32I：RISC-V 基础整数指令集

指令只有六种格式，并且所有的指令都是 32 位长

六种基本指令格式分别是：用于寄存器-寄存器操作的 R 类型指令，用于短立即数和访存 load 操作的 I 型指令，用于访存 store 操作的 S 型指令，用于条件跳转操作的 B 类型指令，用于长立即数的 U 型指令和用于无条件跳转的 J 型指令

其中，rs、rt分别表示源寄存器1和源寄存器2，rd表示目标寄存器，shamt字段用于移位操作，funct字段指定具体的操作类型。
![[Pasted image 20230426162515.png]]![[Pasted image 20230426162529.png]]![[Pasted image 20230426162600.png]]

RV31I有31个寄存器和一个值恒为0的x0寄存器，小端输入

### RISC-V 汇编语言
函数调用过程通常分为 6 个阶段：
1. 将参数存储到函数能够访问到的位置； 
2. 跳转到函数开始位置（使用 RV32I 的 jal 指令）； 
3. 获取函数需要的局部存储资源，按需保存寄存器； 
4. 执行函数中的指令； 
5. 将返回值存储到调用者能够访问到的位置，恢复寄存器，释放局部存储资源； 
6. 返回调用函数的位置（使用 ret 指令）。
![[Pasted image 20230427103420.png]]

### 乘法和除法指令
RV32M 向 RV32I 中添加了整数乘法和除法指令，arm是没有除法指令的

### RV32F 和 RV32D：单精度和双精度浮点数

![[Pasted image 20230427110325.png]]
### 原子指令
RV32A 有两种类型的原子操作： 
⚫ 内存原子操作（AMO） 
⚫ 加载保留/条件存储（load reserved / store conditional）

### 压缩指令
每条短指令必须和一条标准的 32 位 RISC-V 指令一一 对应
RV32C

### 向量
RV32V 
![[Pasted image 20230427111559.png]]

### RV64：64 位地址指令
RV64I

### RV32/64 特权架构
运行最可信的代码的机器模式（machine mode），以及为 Linux，FreeBSD 和 Windows 等操作系统 提供支持的监管者模式（supervisor mode）。
![[Pasted image 20230427175256.png]]